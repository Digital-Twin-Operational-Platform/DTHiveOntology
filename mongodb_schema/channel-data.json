{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "id": "https://github.com/dynamics-research-group/pbshm-schema/channel-data.json",
    "definitions": {
        "channelBaseObject": {
            "bsonType": "object",
            "required": [
                "name",
                "type",
                "value"
            ],
            "properties": {
                "name": {
                    "bsonType": "string",
                    "title": "sensor name",
                    "description": "the unique sensor name within the structure",
                    "minLength": 1
                },
                "type": {
                    "bsonType": "string",
                    "title": "sensor type",
                    "description": "the sensor type (such as Acclerometer, LoadCell, StrainGauge, etc.)"
                },
                "value": {
                    "title": "channel value",
                    "description": "the channel value over the observed time period"
                }
            }
        },
        "channelUnitObject": {
            "allOf": [
                {
                    "$ref": "#/definitions/channelBaseObject"
                },
                {
                    "required": [
                        "units"
                    ],
                    "properties": {
                        "units": {
                            "bsonType": "string",
                            "title": "channel unit",
                            "description": "the channel unit assosiated with the channel type (see https://github.com/dynamics-research-group/pbshm-schema/blob/master/channel-data.md#channel-types for more information)"
                        },
                        "value": {
                            "oneOf": [
                                {
                                    "bsonType": "int"
                                },
                                {
                                    "bsonType": "double"
                                },
                                {
                                    "bsonType": "object",
                                    "additionalProperties": false,
                                    "minProperties": 1,
                                    "properties": {
                                        "min": {
                                            "oneOf": [
                                                {
                                                    "bsonType": "int"
                                                },
                                                {
                                                    "bsonType": "double"
                                                }
                                            ],
                                            "title": "minimum value",
                                            "description": "minimum channel value over the observed time period"
                                        },
                                        "max": {
                                            "oneOf": [
                                                {
                                                    "bsonType": "int"
                                                },
                                                {
                                                    "bsonType": "double"
                                                }
                                            ],
                                            "title": "maximum value",
                                            "description": "maximum channel value over the observed time period"
                                        },
                                        "mean": {
                                            "oneOf": [
                                                {
                                                    "bsonType": "int"
                                                },
                                                {
                                                    "bsonType": "double"
                                                }
                                            ],
                                            "title": "mean value",
                                            "description": "mean channel value over the observed time period"
                                        },
                                        "std": {
                                            "oneOf": [
                                                {
                                                    "bsonType": "int"
                                                },
                                                {
                                                    "bsonType": "double"
                                                }
                                            ],
                                            "title": "standard deviation value",
                                            "description": "standard deviation channel value over the observed time period"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            ]
        }
    },
    "bsonType": "array",
    "title": "channel data array",
    "description": "this is the array of channel data for this structure at the given timestamp",
    "items": {
        "oneOf": [
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "acceleration channel",
                        "description": "acceleration channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "acceleration"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "m/s^2",
                                    "g",
                                    "v",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "velocity channel",
                        "description": "velocity channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "velocity"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "m/s",
                                    "v",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "displacement channel",
                        "description": "displacement channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "displacement"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "mm",
                                    "cm",
                                    "m",
                                    "km",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "angular acceleration channel",
                        "description": "angular acceleration channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "angularAcceleration"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "degrees/s^2",
                                    "radians/s^2",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "angular velocity channel",
                        "description": "angular velocity channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "angularVelocity"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "degrees/s",
                                    "radians/s",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "angular displacement channel",
                        "description": "angular displacement channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "angularDisplacement"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "degrees",
                                    "radians",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "tilt channel",
                        "description": "tilt channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "tilt"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "degrees",
                                    "radians",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "strain channel",
                        "description": "strain channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "strain"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "nd",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "tension channel",
                        "description": "tension channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "tension"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fN",
                                    "pN",
                                    "nN",
                                    "μN",
                                    "mN",
                                    "cN",
                                    "dN",
                                    "N",
                                    "daN",
                                    "hN",
                                    "kN",
                                    "MN",
                                    "GN",
                                    "TN",
                                    "PN",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "load channel",
                        "description": "load channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "load"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fN",
                                    "pN",
                                    "nN",
                                    "μN",
                                    "mN",
                                    "cN",
                                    "dN",
                                    "N",
                                    "daN",
                                    "hN",
                                    "kN",
                                    "MN",
                                    "GN",
                                    "TN",
                                    "PN",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "structural potential hydrogen channel",
                        "description": "structural potential hydrogen channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "structuralPotentialHydrogen"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "pH",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "temperature channel",
                        "description": "temperature channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "temperature"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "C",
                                    "F",
                                    "K",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "humidity channel",
                        "description": "humidity channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "humidity"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "%",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "speed channel",
                        "description": "speed channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "speed"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "mph",
                                    "ft/s",
                                    "km/h",
                                    "m/s",
                                    "kn",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "direction channel",
                        "description": "direction channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "direction"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "degrees",
                                    "radians",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "pressure channel",
                        "description": "pressure channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "pressure"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fPa",
                                    "pPa",
                                    "nPa",
                                    "µPa",
                                    "mPa",
                                    "cPa",
                                    "dPa",
                                    "Pa",
                                    "daPa",
                                    "hPa",
                                    "kPa",
                                    "MPa",
                                    "GPa",
                                    "TPa",
                                    "PPa",
                                    "at",
                                    "atm",
                                    "bar",
                                    "psi",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "altitude channel",
                        "description": "altitude channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "altitude"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "mm",
                                    "cm",
                                    "m",
                                    "km",
                                    "feet",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "pitch channel",
                        "description": "pitch channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "pitch"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "degrees",
                                    "radians",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "yaw channel",
                        "description": "yaw channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "yaw"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "degrees",
                                    "radians",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "roll channel",
                        "description": "roll channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "roll"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "degrees",
                                    "radians",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "pitch rate channel",
                        "description": "pitch rate channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "pitchRate"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "degrees/s",
                                    "radians/s",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "yaw rate channel",
                        "description": "yaw rate channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "yawRate"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "degrees/s",
                                    "radians/s",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "roll rate channel",
                        "description": "roll rate channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "rollRate"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "degrees/s",
                                    "radians/s",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "current channel",
                        "description": "current channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "current"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fA",
                                    "pA",
                                    "nA",
                                    "µA",
                                    "mA",
                                    "cA",
                                    "dA",
                                    "A",
                                    "daA",
                                    "hA",
                                    "kA",
                                    "MA",
                                    "GA",
                                    "TA",
                                    "PA",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "charge channel",
                        "description": "charge channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "charge"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fC",
                                    "pC",
                                    "nC",
                                    "µC",
                                    "mC",
                                    "cC",
                                    "dC",
                                    "C",
                                    "daC",
                                    "hC",
                                    "kC",
                                    "MC",
                                    "GC",
                                    "TC",
                                    "PC",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "power channel",
                        "description": "power channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "power"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fW",
                                    "pW",
                                    "nW",
                                    "µW",
                                    "mW",
                                    "cW",
                                    "dW",
                                    "W",
                                    "daW",
                                    "hW",
                                    "kW",
                                    "MW",
                                    "GW",
                                    "TW",
                                    "PW",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "voltage channel",
                        "description": "voltage channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "voltage"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fV",
                                    "pV",
                                    "nV",
                                    "µV",
                                    "mV",
                                    "cV",
                                    "dV",
                                    "V",
                                    "daV",
                                    "hV",
                                    "kV",
                                    "MV",
                                    "GV",
                                    "TV",
                                    "PV",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "resistance channel",
                        "description": "resistance channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "resistance"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fΩ",
                                    "pΩ",
                                    "nΩ",
                                    "µΩ",
                                    "mΩ",
                                    "cΩ",
                                    "dΩ",
                                    "Ω",
                                    "daΩ",
                                    "hΩ",
                                    "kΩ",
                                    "MΩ",
                                    "GΩ",
                                    "TΩ",
                                    "PΩ",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "capacitance channel",
                        "description": "capacitance channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "capacitance"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fF",
                                    "pF",
                                    "nF",
                                    "µF",
                                    "mF",
                                    "cF",
                                    "dF",
                                    "F",
                                    "daF",
                                    "hF",
                                    "kF",
                                    "MF",
                                    "GF",
                                    "TF",
                                    "PF",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "inductance channel",
                        "description": "inductance channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "inductance"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fH",
                                    "pH",
                                    "nH",
                                    "µH",
                                    "mH",
                                    "cH",
                                    "dH",
                                    "H",
                                    "daH",
                                    "hH",
                                    "kH",
                                    "MH",
                                    "GH",
                                    "TH",
                                    "PH",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "frequency channel",
                        "description": "frequency channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "frequency"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fHz",
                                    "pHz",
                                    "nHz",
                                    "µHz",
                                    "mHz",
                                    "cHz",
                                    "dHz",
                                    "Hz",
                                    "daHz",
                                    "hHz",
                                    "kHz",
                                    "MHz",
                                    "GHz",
                                    "THz",
                                    "PHz",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "conductance channel",
                        "description": "conductance channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "conductance"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fS",
                                    "pS",
                                    "nS",
                                    "µS",
                                    "mS",
                                    "cS",
                                    "dS",
                                    "S",
                                    "daS",
                                    "hS",
                                    "kS",
                                    "MS",
                                    "GS",
                                    "TS",
                                    "PS",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "magnetic flux channel",
                        "description": "magnetic flux channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "magneticFlux"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fWb",
                                    "pWb",
                                    "nWb",
                                    "µWb",
                                    "mWb",
                                    "cWb",
                                    "dWb",
                                    "Wb",
                                    "daWb",
                                    "hWb",
                                    "kWb",
                                    "MWb",
                                    "GWb",
                                    "TWb",
                                    "PWb",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelUnitObject"
                    },
                    {
                        "title": "magnetic field strength channel",
                        "description": "magnetic field strength channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "magneticFieldStrength"
                                ]
                            },
                            "units": {
                                "enum": [
                                    "fT",
                                    "pT",
                                    "nT",
                                    "µT",
                                    "mT",
                                    "cT",
                                    "dT",
                                    "T",
                                    "daT",
                                    "hT",
                                    "kT",
                                    "MT",
                                    "GT",
                                    "TT",
                                    "PT",
                                    "other"
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelBaseObject"
                    },
                    {
                        "title": "integer channel",
                        "description": "generic integer channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "integer"
                                ]
                            },
                            "value": {
                                "bsonType": "int"
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelBaseObject"
                    },
                    {
                        "title": "double channel",
                        "description": "generic double channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "double"
                                ]
                            },
                            "value": {
                                "bsonType": "double"
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelBaseObject"
                    },
                    {
                        "title": "text channel",
                        "description": "generic text channel data",
                        "properties": {
                            "type": {
                                "enum": [
                                    "text"
                                ]
                            },
                            "value": {
                                "bsonType": "string"
                            }
                        }
                    }
                ]
            },
            {
                "allOf": [
                    {
                        "$ref": "#/definitions/channelBaseObject"
                    },
                    {
                        "title": "date channel",
                        "description": "generic date channel data - UTC nanoseconds since UNIX epoch",
                        "properties": {
                            "type": {
                                "enum": [
                                    "date"
                                ]
                            },
                            "value": {
                                "bsonType": "long"
                            }
                        }
                    }
                ]
            }
        ]
    }
}